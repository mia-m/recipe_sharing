// Ref: http://stjhimy.com/posts/07-creating-a-100-ajax-crud-using-rails-3-and-unobtrusive-javascript

<% if @recipe.errors.any? -%>
/*Hide the flash notice div*/
$("#flash_notice").hide(300);

/*Update the html of the div recipe_errors with the new one*/
$("#recipe_errors").html("<%= escape_javascript(error_messages_for(@recipe))%>");

/*Show the div recipe_errors*/
$("#recipe_errors").show(300);
<% else -%>
/*Hide the div recipe_errors*/
$("#recipe_errors").hide(300);

/*Update the html of the div flash_notice with the new one*/
$("#flash_notice").html("<%= escape_javascript(flash[:notice])%>");

/*Show the flash_notice div*/
$("#flash_notice").show(300);

/*Clear the entire form*/
$(":input:not(input[type=submit])").val("");

/*Replace the html of the div recipe_lists with the updated new one*/
//$("#recipe_list").html("<%= escape_javascript( render(:partial => "form") ) %>");
<% end -%>